(function(){"use strict";var e={4007:function(e,t,i){var n=i(9242),s=i(3396);const r={ref:"main"};function l(e,t,i,n,l,c){const o=(0,s.up)("Navbar"),a=(0,s.up)("Screen");return(0,s.wg)(),(0,s.iD)("main",r,[(0,s.Wm)(o),(0,s.Wm)(a)],512)}var c=i(7139);const o=e=>((0,s.dD)("data-v-2f0faf44"),e=e(),(0,s.Cn)(),e),a={class:"grey darken-3"},h={class:"nav-wrapper"},d=o((()=>(0,s._)("label",{for:"file-input"},[(0,s._)("i",{class:"material-icons white-text"},"download")],-1))),u=o((()=>(0,s._)("a",null,[(0,s._)("i",{class:"material-icons",id:"fill"},"zoom_out_map")],-1))),g=[u],f=o((()=>(0,s._)("a",null,[(0,s._)("i",{id:"oneOne"},"1:1")],-1))),v=[f],w=o((()=>(0,s._)("a",null,[(0,s._)("i",{class:"material-icons",id:"horiz"},"swap_horiz")],-1))),m=[w],p=o((()=>(0,s._)("a",null,[(0,s._)("i",{class:"material-icons",id:"vert"},"swap_vert")],-1))),S=[p],_=o((()=>(0,s._)("i",{class:"material-icons"},"fullscreen",-1))),k=[_];function b(e,t,i,n,r,l){return(0,s.wg)(),(0,s.iD)("nav",a,[(0,s._)("div",h,[(0,s._)("ul",{class:"left",onClick:t[1]||(t[1]=(...e)=>l.screenChooser&&l.screenChooser(...e))},[(0,s._)("li",null,[(0,s._)("input",{type:"file",id:"file-input",accept:"image/*",multiple:"",webkitdirectory:"",directory:"",onChange:t[0]||(t[0]=(...e)=>l.onFileSelecter&&l.onFileSelecter(...e))},null,32),d]),(0,s._)("li",{class:(0,c.C_)({active:"fill"===l.selectedScreen})},g,2),(0,s._)("li",{class:(0,c.C_)({active:"oneOne"===l.selectedScreen})},v,2),(0,s._)("li",{class:(0,c.C_)({active:"horiz"===l.selectedScreen})},m,2),(0,s._)("li",{class:(0,c.C_)({active:"vert"===l.selectedScreen})},S,2)]),l.fullScreen?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("a",{key:0,class:"right",onClick:t[2]||(t[2]=(...e)=>l.fullScreenToggle&&l.fullScreenToggle(...e))},k))])])}var x={computed:{selectedScreen(){return this.$store.getters.selectedScreen},fullScreen(){return this.$store.getters.fullScreen}},methods:{onFileSelecter(e){const t=[...e.target.files].filter((e=>/image/g.test(e.type)));this.$store.dispatch("uploudFiles",t)},screenChooser(e){/fill|horiz|vert|oneOne/g.test(e.target.id)&&this.$store.dispatch("updateSelectedScreen",e.target.id)},fullScreenToggle(){this.$store.dispatch("updateFullScreen")}}},F=i(89);const y=(0,F.Z)(x,[["render",b],["__scopeId","data-v-2f0faf44"]]);var C=y;const O=e=>((0,s.dD)("data-v-6372484f"),e=e(),(0,s.Cn)(),e),$={key:0},L=O((()=>(0,s._)("h3",null,"Выберите директорию с изображениями",-1))),D=[L],R={key:1,class:"lightbox"},z={class:"lightbox-container"},I=O((()=>(0,s._)("svg",{fill:"#fff",height:"48",viewBox:"0 0 24 24",width:"48",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),(0,s._)("path",{d:"M0-.5h24v24H0z",fill:"none"})],-1))),q=[I],H={class:"lightbox-image"},W={id:"canvas",ref:"canvas"},j=["src"],N=O((()=>(0,s._)("svg",{fill:"#fff",height:"48",viewBox:"0 0 24 24",width:"48",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),(0,s._)("path",{d:"M0-.25h24v24H0z",fill:"none"})],-1))),T=[N];function A(e,t,i,n,r,l){return(0,s.wg)(),(0,s.iD)("div",null,[l.selectedFiles.length?((0,s.wg)(),(0,s.iD)("div",R,[(0,s._)("div",z,[l.hasPrev?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:t[0]||(t[0]=(...e)=>l.prev&&l.prev(...e)),class:"arrow prev"},q)):(0,s.kq)("",!0),(0,s._)("div",H,[(0,s._)("canvas",W,null,512),(0,s._)("img",{src:r.img_link,ref:"pic"},null,8,j)]),l.hasNext?((0,s.wg)(),(0,s.iD)("div",{key:1,onClick:t[1]||(t[1]=(...e)=>l.next&&l.next(...e)),class:"arrow next"},T)):(0,s.kq)("",!0)])])):((0,s.wg)(),(0,s.iD)("div",$,D))])}var M={data(){return{index:0,classScreen:{fill:!1,oneOne:!1,horiz:!1,vert:!1},img_link:""}},computed:{selectedScreen(){return this.$store.getters.selectedScreen},fullScreen(){return this.$store.getters.fullScreen},selectedFiles(){return this.index=0,this.$store.getters.selectedFiles},hasNext(){return this.index+1<this.selectedFiles.length},hasPrev(){return this.index-1>=0}},watch:{selectedScreen:function(e,t){this.classScreen[t]=!1,this.classScreen[e]=!0,this.getLocalImage()},index:function(e){localStorage.setItem("index",e),this.getLocalImage()},selectedFiles:function(){this.getLocalImage()}},methods:{prev(){this.hasPrev&&(this.index-=1)},next(){this.hasNext&&(this.index+=1)},onKeydown(e){switch(e.key){case"ArrowRight":this.next();break;case"ArrowLeft":this.prev();break;case"ArrowDown":case"ArrowUp":case" ":e.preventDefault();break}},getLocalImage(){this.selectedFiles.length&&(this.img=new Image,this.img.src=window.URL.createObjectURL(this.selectedFiles[this.index]),this.img.onload=()=>{switch(this.imgWidth=this.img.naturalWidth,this.imgHeight=this.img.naturalHeight,this.imgRatio=this.imgWidth/this.imgHeight,this.W=window.innerWidth,this.H=window.innerHeight,this.selectedScreen){case"fill":this.width=this.W,this.height=this.H;break;case"oneOne":this.width=this.imgWidth,this.height=this.imgHeight;break;case"horiz":this.width=this.W,this.height=this.width/this.imgRatio;break;case"vert":this.height=this.H,this.width=this.height*this.imgRatio;break}window.URL.revokeObjectURL(this.img.src),this.c=this.$refs.canvas,this.c.width=this.width,this.c.height=this.height,this.ctx=this.c.getContext("2d"),this.ctx.drawImage(this.img,0,0,this.width,this.height),this.img_link=canvas.toDataURL()})}},mounted(){window.addEventListener("keydown",this.onKeydown),this.classScreen[this.selectedScreen]=!0,this.index=+localStorage.getItem("index")||0},unmounted(){window.removeEventListener("keydown",this.onKeydown)}};const U=(0,F.Z)(M,[["render",A],["__scopeId","data-v-6372484f"]]);var P=U,E={components:{Navbar:C,Screen:P},computed:{fullScreen(){return this.$store.getters.fullScreen}},watch:{fullScreen:function(e){e&&(this.openFullscreen(),this.fullScreenToggle())}},methods:{openFullscreen(){this.$refs.main.requestFullscreen?this.$refs.main.requestFullscreen():this.$refs.main.webkitRequestFullscreen?this.$refs.main.webkitRequestFullscreen():this.$refs.main.msRequestFullscreen&&this.$refs.main.msRequestFullscreen()},fullScreenToggle(){this.$store.dispatch("updateFullScreen")}}};const B=(0,F.Z)(E,[["render",l]]);var K=B,Z=i(5431);(0,Z.z)("/Vue-lightbox/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var V=i(65),G=(0,V.MT)({state:{selectedFiles:[],selectedScreen:localStorage.getItem("selectedScreen")||"fill",fullScreen:!1},getters:{selectedFiles:e=>e.selectedFiles,selectedScreen:e=>e.selectedScreen,fullScreen:e=>e.fullScreen},mutations:{uploudFiles(e,t){e.selectedFiles=t},updateSelectedScreen(e,t){e.selectedScreen=t,localStorage.setItem("selectedScreen",t)},updateFullScreen(e){e.fullScreen=!e.fullScreen}},actions:{uploudFiles({commit:e},t){e("uploudFiles",t)},updateSelectedScreen({commit:e},t){e("updateSelectedScreen",t)},updateFullScreen({commit:e}){e("updateFullScreen")}}});i(5778);(0,n.ri)(K).use(G).mount("#app")}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,i),r.exports}i.m=e,function(){var e=[];i.O=function(t,n,s,r){if(!n){var l=1/0;for(h=0;h<e.length;h++){n=e[h][0],s=e[h][1],r=e[h][2];for(var c=!0,o=0;o<n.length;o++)(!1&r||l>=r)&&Object.keys(i.O).every((function(e){return i.O[e](n[o])}))?n.splice(o--,1):(c=!1,r<l&&(l=r));if(c){e.splice(h--,1);var a=s();void 0!==a&&(t=a)}}return t}r=r||0;for(var h=e.length;h>0&&e[h-1][2]>r;h--)e[h]=e[h-1];e[h]=[n,s,r]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,r,l=n[0],c=n[1],o=n[2],a=0;if(l.some((function(t){return 0!==e[t]}))){for(s in c)i.o(c,s)&&(i.m[s]=c[s]);if(o)var h=o(i)}for(t&&t(n);a<l.length;a++)r=l[a],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(h)},n=self["webpackChunkvue_lightbox"]=self["webpackChunkvue_lightbox"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(4007)}));n=i.O(n)})();
//# sourceMappingURL=app.219f7760.js.map